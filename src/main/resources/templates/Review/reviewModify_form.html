<html layout:decorate="~{layout}">
<head>
    <style>
        .star-rating .star {
    font-size: 20px; /* 별의 크기 조절 */
    color: #ccc; /* 기본 별 색상 */
    cursor: pointer;
    transition: color 0.3s ease-in-out;
}

.star-rating .star.checked,
.star-rating .star:hover {
    color: #FFD700; /* 클릭되거나 호버되었을 때의 별 색상 */
}
    </style>
</head>
<div layout:fragment="content" class="container">
    <h5 class="my-3 border-bottom pb-2">답변 수정</h5>
    <form th:object="${reviewForm}" method="post">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
        <div th:replace="~{form_errors :: formErrorsFragment}"></div>
        <div class="mb-3">
            <label for="subject" class="form-label">제목</label>
            <textarea th:field="*{subject}" class="form-control" rows="10"></textarea>
            <label for="content" class="form-label">내용</label>
            <textarea th:field="*{content}" class="form-control" rows="10"></textarea>
            <!-- 별점 선택 -->
            <label class="form-label">별점</label>
            <div class="star-rating">
                <span class="star" data-rating="1" onclick="updateRating(1)">&#9734;</span>
                <span class="star" data-rating="2" onclick="updateRating(2)">&#9734;</span>
                <span class="star" data-rating="3" onclick="updateRating(3)">&#9734;</span>
                <span class="star" data-rating="4" onclick="updateRating(4)">&#9734;</span>
                <span class="star" data-rating="5" onclick="updateRating(5)">&#9734;</span>
                <input type="hidden" name="starRating" id="starRating" th:value="${reviewForm.starRating}" />
            </div>
        </div>
        <input type="submit" value="저장하기" class="btn btn-primary my-2">
    </form>
    <script>
        function updateRating(rating) {
            document.getElementById('starRating').value = rating;
            updateStars(rating);
        }

        function updateStars(rating) {
            const stars = document.querySelectorAll('.star');
            stars.forEach((star, index) => {
                star.classList.toggle('checked', index < rating);
            });
        }
    </script>
</div>
</html>