<!DOCTYPE html>
<html layout:decorate="~{layout}" xmlns:layout="http://www.w3.org/1999/xhtml" xmlns:th="" style="width:1920px">
<div layout:fragment="content" >
    <!--    메인 포스터&설명 start-->
    <div class="detail_container">
        <img class="detail_img" th:src="${movie.image}" alt="">
        <div class="movie_content">
            <h1 th:text="${movie.name}"></h1>
            <div class="detail_content">
                <div class="detail_cont">
                    <p class="detail_cont_sub">개봉일</p>
                    <p th:text="${movie.movieRelease}"></p>
                </div>
                <div class="detail_cont">
                    <p class="detail_cont_sub">장르</p>
                    <p>액션/스릴러</p>
                </div>
                <div class="detail_cont">
                    <p class="detail_cont_sub">국가</p>
                    <p>한국</p>
                </div>
                <div class="detail_cont">
                    <p class="detail_cont_sub">등급</p>
                    <p>12세이상관람가</p>
                </div>
                <div class="detail_cont">
                    <p class="detail_cont_sub">러닝타임</p>
                    <p>142분</p>
                </div>

                <div class="detail_cont">
                    <p class="detail_cont_sub">영화 설명</p>
                    <p th:text="${movie.content}"></p>
                </div>
                <div class="detail_cont">
                    <h5 th:text="|${#lists.size(movie.reviewList)}개의 리뷰가 있습니다.|"></h5>
                </div>
            </div>

        </div>
    </div>
    <!--    메인 포스터&설명 end-->
    <!--    주요정보 start-->
    <section class="information_container">
        <div class="tabmenu_wrap">
            <ul class="list_tabmenu">
                <li role="presentation" class="on" style="margin-left:0px;">
                    <a href="" class="link_tabmenu" onclick="showContainer('mainInfo'); return false;">
                        <span class="txt_tabmenu">주요정보</span>
                    </a>
                </li>
                <li role="presentation" class="">
                    <a href="" class="link_tabmenu" onclick="showContainer('castProduction'); return false;">
                        <span class="txt_tabmenu">출연/제작</span>
                    </a>
                </li>
                <li role="presentation" class="">
                    <a href="" class="link_tabmenu" onclick="showContainer('ratings'); return false;">
                        <span class="txt_tabmenu">평점</span>
                    </a>
                </li>
            </ul>
        </div>
        <div id="mainInfo_container" class="explanation_container">
            <div class="info_container">
                <div class="detail_info_container">
                    <div class="detail_info">
                        <div class="info_desc">
                            <div>
                                <!--                                줄거리 start -->
                                <p class="info_cont">때는 서기 2029년 로스앤젤레스. 핵전쟁의 잿더미 속에서 지구를 지배한 기계들에게 대항하기 위해 인간들이 일어난다.
                                    기계들은
                                    인류를 말살하기 위해 끈질긴
                                    소탕전을 벌이고 '존 코너'가 이끄는 인류저항군은 기계들과 피할 수 없는 항전을 벌인다. 기계들의 리더이자 군사 컴퓨터 스카이넷은 존 코너의 존재
                                    자체를
                                    없애기 위해 그의 어머니인 '사라 코너'(린다 해밀턴)를 제거하는 프로젝트를 세워 T-800(아놀드 슈왈제네거)를 서기 1984년의 로스앤젤레스로
                                    밀파시키고
                                    존 코너의 인류저항군 역시 사라 코너를 지키기 위해 '카일 리스'(마이클 빈)라는 젊은 수호자를 역시 1984년의 로스앤젤레스로 급파하는데....
                                    때는 서기 1984년 로스앤젤레스의 깊은 새벽이다. 고요한 새벽을 깨우는 귀청을 찌르고 눈부시게 하는 푸른빛과 요란한 굉음과 함께 서기 2029년의
                                    미래에서
                                    젊은 여성 사라 코너를 살해하라는 잔인하고 끔찍한 임무를 맡은 T-800이 먼저 등장하고, 시에 미래 인류저항군으로부터 사라 코너를 지키라는 막중한
                                    임무를
                                    맡은 카일 리스도 등장한다. T-800은 세 명의 불량배들에게 옷을 빼앗아 입고, 리스는 한 노숙자로부터 바지를 빼앗아 입다가 경찰에게 쫓겨 한
                                    경찰관의
                                    권총을 빼앗아 달아나고 폐점된 한 마트로 들어가 경찰의 추격을 따돌려 그 안에서 옷과 신발을 훔쳐입고 2층 난간으로 빠져나간 뒤 순찰차에서 산탄총 한
                                    자루를
                                    꺼내어 간다.

                                    이 둘은 존 코너의 어머니이자 젊은 여성인 사라 코너를 살해하는 임무와 그녀를 터미네이터에 의한 죽음으로부터 지켜주기 위한 서로 다른 임무를 가지고
                                    사라
                                    코너를 찾아나서는데 처음에 T-800은 총포점에 들려서 총기류를 입수하게 되고 공중전화 전화번호부를 통해 '사라 코너'라는 이름을 인식하며 사라가
                                    있다는
                                    집으로 갔었지만 그 곳은 사라 코너가 아닌 나이 많은 주부 '사라 앤 코너'라는 여자가 사는 집이었다. 그러나 T-800은 그녀를 그보다 젊은 여성이자
                                    자신의
                                    목표물인 사라 코너로 오인하여 결국에는 그녀를 총살하게 되고 결국엔 '사라 코너'라는 동명이인(同名異人)인 여자나 이름이 비슷해 보이는 여자는
                                    닥치는대로 살해하였다.[1] 한편 카일은 T-800과 맞서 싸울 무기를 입수하고 정비를 한 후 사라 코너를 찾아나선다. 이 때 사라는 로스앤젤레스의 한
                                    패밀리
                                    레스토랑에서 서빙 담당을 맡아 일하고 있었고 함께 살고 있는 흑인 여자 진저와 수다를 나눈다.

                                    이 때 카일은 자동차 안에 있다가 멀리서 빛을 비추며 작업하는 건설기계를 보고 흠칫 놀라다가 잠들어서 꿈을 꾸게 되는데 그것은 그가 존재하는 서기
                                    2029년의
                                    미래세계 모습이었다. 평범하게 작업중인 건설 크레인의 바퀴가 미래세계에서 인간들을 소탕하는 기계의 바퀴로 바뀌고 기계들로부터 살해된 인간의 해골들이
                                    가득한
                                    가운데 하늘과 땅에서 인간들을 소탕하려는 기계들이 공격을 하고 있고 카일과 동료들은 힘겨운 전투를 하고 있었다. 이들의 저항에도 불구하고 기계들은
                                    끈질기게
                                    카일을 따라잡으며 공격하였고 카일은 동료가 끄는 자동차를 타고 기계들의 공격을 피하려하지만 기계들의 공격은 계속되고 결국 기계의 공격에 의해 카일이 탄
                                    자동차가 전복되었는데 카일은 화염 속에 휘말려서 비명을 지르게 된다. 그러나 그 모든 것은 카일이 꾸었던 꿈으로 잠에서 깨어난 카일은 처음에 살인기계로
                                    보였던
                                    건설기계가 평범하게 작업하는 모습을 보면서 그제서야 안도를 하면서 사라를 찾으러 나선다.

                                    한편 사라 코너라는 여자의 동명이인 살해건으로 경찰서에서는 사라 코너에 대한 여자에 대한 신변을 조사하고 있었고 사라는 영화를 보러 간다며 분홍색
                                    상의에
                                    청바지를 입고 나오면서 외출 준비를 마치고 주차장에 들어가 오토바이를 타고 출발하게 되는데 바로 이 때 그녀의 뒤를 카일이 차를 통해 비밀리에
                                    미행한다.

                                    사라는 어느 식당에 들어가 식사를 하던 중 TV 뉴스를 통해 '35세의 여자 사라 앤 코너'라는 여자가 살해되었다는 소식을 듣게 되자 불안을 느끼면서
                                    뉴스를
                                    듣자 그제서야 누군가가 자신을 노리는 자들이 있다는 것을 조금씩 인식한다. 그리고는 식당을 나와 불안스런 마음으로 길거리를 걷는데 이 때 카일이 그녀의
                                    뒤를
                                    미행한다. 한편, 진저는 매드와 함께 T-800의 살해표적이 되어 결국 끔찍하게 살해당하고 만다.

                                    사라는 진저에게 전화하기 위해 나이트클럽에 들어갔는데 마침내 T-800은 나이트클럽에서 사라를 발견하여 그녀를 죽이려 했었지만 비밀리에 사라를 미행했던
                                    카일에
                                    의해 실패하자 사라와 카일을 뒤쫓는다. 사라는 처음에는 카일을 보고 자신을 죽이려드는 살인자로 오인하여 겁에 질려했지만 자신을 지켜준다면서도 미래에서
                                    왔다는
                                    얘기를 듣고서는 의심을 하기도 했다.

                                    T-800에게 계속 쫓기게 된 끝에 경찰서에 간 사라는 진저의 죽음에 슬퍼하며 흐느꼈고 카일은 실버맨 박사와의 면담에서 자신은 서기 2029년 미래에서
                                    온
                                    전사라고 주장하며 T-800이 사라를 죽이고 경찰서도 아수라장으로 만들 것이라고 주장했지만 사람들은 그저 헛된 망상에 빠져서 미친 것이 아니냐며
                                    비웃었다.
                                    그의 말대로 T-800은 사라와 카일이 있는 경찰서를 차량으로 돌진, 습격하여 아수라장으로 만들고 경관들을 살해하며 사라와 카일을 찾으러 나섰지만
                                    사라와
                                    카일은 T-800의 습격을 피하며 어느 어두운 동굴 안으로 들어가 휴식을 취하고 사라는 카일의 품에 잠들며 꿈 속에서 카일이 존재한다는 서기
                                    2029년의
                                    모습을 본다.

                                    사라가 꿈에서 본 서기 2029년의 로스앤젤레스는 폐허 상태의 모습으로 보였고 카일과 저항군들이 사이보그와의 전투를 하고 있는 모습이 보였다. 이들은
                                    전투를
                                    중단하고 휴식을 취하기 위해 철수하던 중이었다. 그리고는 하나둘씩 지하에 있다는 아지트로 내려가게 되는데 그 곳에는 사이보그들의 공격을 피해 은신생활을
                                    하고
                                    있는 사람들이 모여 지내고 있는 곳이었다. 카일이 지나갈 때마다 사람들의 모습은 매우 처참해 보였고 일부는 고통과 굶주림으로 고생을 하고 있었다.
                                    카일은 지친
                                    모습으로 벽에 앉아 휴식을 취하게 되고 품 속에서 사라 코너의 사진을 꺼내게 되는데 그 속의 사라 코너는 영화 막판에서 뱃속의 존 코너에게 이야기를
                                    들려주며
                                    지프를 타고 달리는 모습의 사라였다.

                                    바로 이 때 정찰견들이 마구 짖어대고 터미네이터가 등장하자마자 총기를 난사하면서 아지트는 아수라장에 쑥대밭으로 변하게 되고 총격에 놀란 사람들은
                                    이리저리
                                    피하다가 터미네이터가 쏜 총탄에 맞아 쓰러진다.

                                    카일과 동료들도 터미네이터에 맞서 총격했지만 역부족이었고 결국에는 폭발과 함께 카일도 쓰러지는데 이 때 카일의 품 속에 있던 사라의 사진이 불에 타고
                                    있었고
                                    카일은 분노의 눈빛으로 터미네이터의 만행을 지켜본다. 그리고 사라의 사진도 검게 타 들어가면서 사라의 꿈 속 내용이 끝나게 되고 현재의 사라 모습으로
                                    돌아온다.

                                    사라는 카일의 품에 누워서 잠들어 있었다가 눈을 뜨고 깨어나면서 꿈에서 개를 봤다며 그곳은 끔찍하고 무서운 세상이라고 말한다. 그리고 날이 밝게 되자
                                    두
                                    사람은 동굴을 나가게 되고 사라는 추위 때문에 카일의 외투를 입으면서 나온다.

                                    한편 T-800은 어느 여관에서 사라의 집에서 훔쳐온 사라의 어머니에 관한 수첩을 보게 되며 사라의 어머니가 있는 집으로 가게 되고 사라와 카일은 어느
                                    모텔에
                                    도착하여 여장을 풀며 동시에 다이너마이트를 제조하게 된다. 그리고 여유를 가지며 서로 얘기하게 되었을 때 카일은 사라를 사랑하고 보호하기 위해서
                                    1984년
                                    로스앤젤레스에 왔다고 말하게 되고 그의 얘기를 들은 사라는 눈물을 보이게 되며 카일의 얼굴에 입맞춤을 한다. 그리고 두 사람은 서로 사랑을 확인하며
                                    그렇게
                                    시간을 보내게 되는데....

                                    한편 T-800은 음성모방기능으로 사라의 어머니의 목소리를 이용해 사라와 전화통화로 위치를 알아낸다. 그리고 T-800이 오토바이를 타고 습격을 하게
                                    되면서
                                    사라와 카일은 습격을 피해 도망을 치지만 카일은 T-800이 쏜 총탄에 맞아 쓰러지고 사라는 T-800을 따돌리는데 성공하지만 자신의 차도 뒤집힌다.
                                    T-800이 일어나려고 하는 순간 대형 탱크로리가 자신을 밟고 지나가며 이 때부터 T-800은 다리를 절룩거린다. 잠시 선 차량의 안에 있던 운전수를
                                    쫓아내고
                                    탱크로리를 운전하여 사라와 카일을 향해 돌진한다. 이 때 카일은 사라를 먼저 도망치게 하고 자신은 다이너마이트를 점화하여 탱크로리 구멍에 집어넣는데
                                    폭발음과
                                    함께 탱크로리는 화염과 함께 폭파되어 불에 휩싸이며 T-800도 화염 속에서 잠시 움직이는 듯 했다가 결국에는 쓰러진다. 사라는 불길 속에서 카일을
                                    발견하고
                                    T-800을 물리치게 되자 기쁨의 포옹을 한다.

                                    그러나 나중에 가서는 살가죽이 불에 타서 벗겨지고 쇠붙이 뼈대만 남은 모습으로 등장하여 사라와 카일을 찰거머리 같이 위협한다. 카일은 공장안의 기계를
                                    모두
                                    작동시켜 추적을 못하게 하는 수단을 동원했음에도 불구하고 T-800은 사라와 카일을 찾아낸다. 결국 카일은 사라를 뒤로하고 T-800과 최후의 결투를
                                    벌였지만
                                    역부족으로 실패하자 마지막 남은 다이너마이트를 T-800의 옆구리 쪽에 끼워넣은 후 자신은 떨어지게 되고 T-800은 폭파로 다리와 부품의 일부가
                                    분리되어
                                    파괴된다. 사라 역시 폭파와 함께 도망치던 중 추락하여서 정신을 차리며 움직이려다가 왼쪽 다리를 움켜쥐며 비명을 지르게 되었는데 그녀가 입은 청바지에
                                    피가
                                    묻으면서 T-800의 조각 파편이 왼쪽 다리에 깊이 박혀있다. 사라는 허벅지에 박혀있는 파편을 빼내고 기어서 카일에게 다가갔지만 이미 카일은 피투성이로
                                    죽어있었고 시신이 된 카일 앞에서 흐느끼며 슬퍼하지만 이 때 T-800이 다리가 잘린 채 기어가서 사라를 위협한다. 사라 역시 다리를 다쳐서 온 몸으로
                                    기어가며 도망을 친 끝에 압축기로 T-800을 제거하여 간신히 구사일생으로 목숨을 건지고 구급차 침대에 누워서 후송되었을 때 시신이 되어 운구되는
                                    카일의
                                    모습을 보며 슬퍼한다. 그리고 후에 사라는 임신을 하며 뱃속에 있는 존 코너에게 이야기를 들려주게 되면서 지프를 타고 사막을 횡단하여 라틴아메리카로
                                    떠난다.
                                </p>
                                <div class="info_btn">
                                    <button class="show_btn">더보기 <i class="fa-solid fa-angle-down"></i></button>
                                    <button class="close_btn"><i class="fa-solid fa-chevron-up"></i>접기</button>
                                    <!--                                줄거리 end-->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--        주요정보 end-->
            <!--     주요정보에 보여질 출연진 start-->
            <div class="cast_info_container">
                <h5 class="cast_info_title">출연진</h5>
                <button class="cast-btn">더보기</button>
                <ul class="cast_list">
                    <li class="cast_card" style="margin-left:0px;">
                        <div class="cast_item">
                            <img src="https://t1.gstatic.com/licensed-image?q=tbn:ANd9GcQMdenIBiYdm-g5fqCqS3_cNXUK_uhP2MbOgH9uW7ecjtwX16GchTouWk9FMJWq5bTv">
                            <div class="cast_ex">
                                <strong class="cast_name">
                                    제임스 카메론
                                </strong>
                                <span class="cast_role">
                                감독
                            </span>
                            </div>
                        </div>
                    </li>
                    <li class="cast_card">
                        <div class="cast_item">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/af/Arnold_Schwarzenegger_by_Gage_Skidmore_4.jpg/251px-Arnold_Schwarzenegger_by_Gage_Skidmore_4.jpg">
                            <div class="cast_ex">
                                <strong class="cast_name" style="text-align: center;">
                                    아널드 <br>슈워제네거
                                </strong>
                                <span class="cast_role">
                                주연
                            </span>
                            </div>
                        </div>
                    </li>
                    <li class="cast_card">
                        <div class="cast_item">
                            <img src="https://t1.gstatic.com/licensed-image?q=tbn:ANd9GcSwTbIK6bMM03HUF_x5BACeLmvnsydaSp03cOayFS7ZzYCPI4tislXN8inDa0BCKCtY">
                            <div class="cast_ex">
                                <strong class="cast_name">
                                    사라 코너
                                </strong>
                                <span class="cast_role">
                                주연
                            </span>
                            </div>
                        </div>
                    </li>
                    <li class="cast_card">
                        <div class="cast_item">
                            <img src="https://t1.gstatic.com/licensed-image?q=tbn:ANd9GcSjOerwOZUe72nJiRfGclaZvNXb1E_wAkPZ7C2Z3j33Cysl7mKx_Fql7CWPqrnGF33F">
                            <div class="cast_ex">
                                <strong class="cast_name">
                                    마이클 빈
                                </strong>
                                <span class="cast_role">
                                주연
                            </span>
                            </div>
                        </div>
                    </li>
                    <li class="cast_card">
                        <div class="cast_item">
                            <img src="https://t3.gstatic.com/licensed-image?q=tbn:ANd9GcQ57IAfu7rXm3WNMpNavbEZKVIUB4a2CZ6U99afzWf61d4V7i3H20_wlG2H0z_xyTTY">
                            <div class="cast_ex">
                                <strong class="cast_name">
                                    에드워드 펄롱
                                </strong>
                                <span class="cast_role">
                                주연
                            </span>
                            </div>
                        </div>
                    </li>
                    <li class="cast_card">
                        <div class="cast_item">
                            <img src="https://t0.gstatic.com/licensed-image?q=tbn:ANd9GcSHwQOzqktvF7VYZmlsy_K1i-ddOew6iA4ImoKd1P_Te7pJDQLmKqUzkTt1hGQEzQ29">
                            <div class="cast_ex">
                                <strong class="cast_name">
                                    조 모턴
                                </strong>
                                <span class="cast_role">
                                주연
                            </span>
                            </div>
                        </div>
                    </li>
                    <li class="cast_card">
                        <div class="cast_item">
                            <img src="https://m.media-amazon.com/images/M/MV5BNzM3Y2I4YjUtYzg5Yi00YzM4LTg3MjAtYWQ4YzMzNTViZGQ4XkEyXkFqcGdeQXVyMjUyNDk2ODc@._V1_.jpg">
                            <div class="cast_ex">
                                <strong class="cast_name">
                                    에드워드 펄롱
                                </strong>
                                <span class="cast_role">
                                영상편집
                            </span>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
        <!--        주요정보 출연진 end-->

        <!--        전체 출연진-->
        <div id="castProduction_container" class="explanation_container" style="display: none;">
            <!--            감독 start-->
            <div class="main_cast_cont">
                <h2>감독</h2>
                <ul>
                    <li class="member_item">
                        <img src="https://t1.gstatic.com/licensed-image?q=tbn:ANd9GcQMdenIBiYdm-g5fqCqS3_cNXUK_uhP2MbOgH9uW7ecjtwX16GchTouWk9FMJWq5bTv"
                             alt="">
                        <span>제임스 카메론</span>
                    </li>
                </ul>
            </div>
            <!--            감독 end-->

            <!--            주연 start-->
            <div class="main_cast_cont">
                <h2>주연</h2>
                <ul>
                    <li class="member_item">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/af/Arnold_Schwarzenegger_by_Gage_Skidmore_4.jpg/251px-Arnold_Schwarzenegger_by_Gage_Skidmore_4.jpg"
                             alt="">
                        <span>아널드 슈워제네거</span>
                    </li>
                </ul>
            </div>
            <!--        주연 end-->

            <!--            출연-->
            <div class="main_cast_cont">
                <h2>출연</h2>
                <ul>
                    <li class="member_item">
                        <img src="https://t0.gstatic.com/licensed-image?q=tbn:ANd9GcSHwQOzqktvF7VYZmlsy_K1i-ddOew6iA4ImoKd1P_Te7pJDQLmKqUzkTt1hGQEzQ29"
                             alt="">
                        <span>조 모턴</span>
                    </li>
                </ul>
            </div>
            <!--        출연 end-->

            <!--            제작진 start-->
            <div class="main_cast_cont">
                <h2>제작진</h2>
                <dl>
                    <dt>제작</dt>
                    <a href=""> 게일 앤 허드</a>
                </dl>
                <dl>
                    <dt>각본</dt>
                    <a href=""> 게일 앤 허드</a>
                </dl>
                <dl>
                    <dt>촬영</dt>
                    <a href=""> 게일 앤 허드</a>
                </dl>
                <dl>
                    <dt>조명</dt>
                    <a href=""> 게일 앤 허드</a>
                </dl>
                <dl>
                    <dt>음악</dt>
                    <a href=""> 게일 앤 허드</a>
                </dl>
                <dl>
                    <dt>편집</dt>
                    <a href=""> 게일 앤 허드</a>
                </dl>
                <dl>
                    <dt>미술</dt>
                    <a href=""> 게일 앤 허드</a>
                </dl>
                <dl>
                    <dt>의상/분장</dt>
                    <a href=""> 게일 앤 허드</a>
                </dl>
                <dl>
                    <dt>특수효과</dt>
                    <a href=""> 게일 앤 허드</a>
                </dl>
                <dl>
                    <dt>무술감독</dt>
                    <a href=""> 게일 앤 허드</a>
                </dl>
            </div>
            <!--            제작진 end-->
            <div class="main_cast_cont">
                <h2>영화사</h2>
                <dl>
                    <dt>제작</dt>
                    <a href=""></a>
                </dl>
                <dl>
                    <dt>배급</dt>
                    <a href=""></a>
                </dl>
                <dl>
                    <dt>배급</dt>
                    <a href=""></a>
                </dl>
                <dl>
                    <dt>제공</dt>
                    <a href=""></a>
                </dl>
                <dl>
                    <dt>제공</dt>
                    <a href=""></a>
                </dl>
            </div>
        </div>
        <!--        전체 출연진 end-->

        <!--        리뷰 start-->
        <div id="ratings_container" class="explanation_container" style="display: none;">
            <div class="registration_cont">
                <a class="Sing_up" role="button" th:if="${#authorization.expression('isAuthenticated()')}"
                   th:href="@{|/review/create/${movie.id}|}">리뷰등록</a>
            </div>
            <h5 th:text="|${#lists.size(movie.reviewList)}개의 리뷰가 있습니다.|"></h5>
            <div class="container my-3">
                <div class="row">
                    <div class="col-md-8" style="width: 100%;">
                        <div th:each="review : ${paging}" class="card mb-3">
                            <div class="card-body">
                                <h5 class="card-title" th:text="${review.subject}"></h5>
                                <p class="card-text" th:text="${review.content}"></p>

                                <!-- 별점 -->
                                <div class="star-rating" th:if="${review.starRating != null}"
                                     th:attr="data-rating=${review.starRating}">
                                    <svg height="25" width="23" class="star" style="color:gold;"
                                         th:each="star : ${#numbers.sequence(1, 5)}">
                                        <!-- 별점 별그리는데 사용한 태그입니다. 수정해도좋습니다. 다만 thfh데이터가져오는부분은 수정하면안됩니다.-->
                                        <polygon  th:if="${star} &lt;= ${review.starRating}"
                                                 points="12 2 15.09 8.5 22 9.26 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.26 8.91 8.5 12 2" fill="gold"/>
                                    </svg>
                                </div>
                                <div class="correction_cont">
                                    <!-- 추천 버튼 -->
                                    <a href="javascript:void(0);" class="recommend btn btn-sm btn-outline-secondary"
                                       th:data-uri="@{|/review/vote/${review.id}|}" th:data-recommended="${doNotVote}"
                                       style="text-decoration: none; color: #007bff;">
                                        추천
                                        <span class="badge rounded-pill bg-success"
                                              th:text="${#lists.size(review.voter)}"
                                              style="margin-left: 5px;"></span>
                                    </a>
                                    <div class="correction">
                                        <!-- 수정 및 삭제 링크 -->
                                        <div th:if="${#authentication.getPrincipal() != 'anonymousUser'}">
                                            <a class="Sing_up btn btn-sm btn-info" role="button"
                                               th:if="${review.member != null and #authentication.getPrincipal().username == review.member.loginId}"
                                               th:href="@{|/review/modify/${review.id}|}">리뷰 수정</a>
                                            <a class="Sing_up btn btn-sm btn-danger" role="button"
                                               th:if="${review.member != null and #authentication.getPrincipal().username == review.member.loginId}"
                                               th:href="@{|/review/delete/${review.id}|}"
                                               onclick="return confirmDelete();">리뷰
                                                삭제</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div th:if="${!paging.isEmpty()}">
                <ul class="pagination justify-content-center">
                    <li class="page-item" th:classappend="${!paging.hasPrevious} ? 'disabled'">
                        <a class="page-link"
                           th:href="@{|?page=${paging.number-1}|}">
                            <span>이전</span>
                        </a>
                    </li>
                    <li th:each="page: ${#numbers.sequence(0, paging.totalPages-1)}"
                        th:classappend="${page == paging.number} ? 'active'"
                        class="page-item">
                        <a th:text="${page}" class="page-link" th:href="@{|?page=${page}|}"></a>
                    </li>
                    <li class="page-item" th:classappend="${!paging.hasNext} ? 'disabled'">
                        <a class="page-link" th:href="@{|?page=${paging.number+1}|}">
                            <span>다음</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>

        <!--        리뷰 end-->
    </section>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var showButton = document.querySelector('.show_btn');
            var closeButton = document.querySelector('.close_btn');
            var infoContent = document.querySelector('.info_cont');

            // "더보기" 버튼 클릭 시
            showButton.addEventListener('click', function () {
                infoContent.style.overflow = 'visible';
                infoContent.style.display = 'block';
                showButton.style.display = 'none';
                closeButton.style.display = 'inline-block';
            });

            // "접기" 버튼 클릭 시
            closeButton.addEventListener('click', function () {
                infoContent.style.overflow = 'hidden';
                infoContent.style.display = '-webkit-box';
                showButton.style.display = 'inline-block';
                closeButton.style.display = 'none';
            });
        });
    </script>

    <script>
        function showContainer(containerId) {
            // 모든 컨테이너를 숨김
            var containers = document.getElementsByClassName('explanation_container');
            for (var i = 0; i < containers.length; i++) {
                containers[i].style.display = 'none';
            }

            // 선택한 컨테이너만 보여줌
            var selectedContainer = document.getElementById(containerId + '_container');
            if (selectedContainer) {
                selectedContainer.style.display = 'flex';
            }
        }
    </script>
    <script th:inline="javascript">
        /*<![CDATA[*/
       var isLoggedIn = /*[[${#authentication.getPrincipal()}]]*/ false;
       /*]]>*/
       console.log(isLoggedIn);
       const recommend_elements = document.getElementsByClassName("recommend");

        /*element는 배열 elements의 각 요소임
        Array.from(recommend_elements)는 recommend_element를 배열로 반환시킨거임*/

       Array.from(recommend_elements).forEach(function(element) {
           element.addEventListener('click', function() {
                if (isLoggedIn === 'anonymousUser') {
                   if(confirm('로그인이 필요한 기능입니다.')) {
                         location.href = "/member/login";
                    }
                }else {
                const isRecommended = element.dataset.recommended === "true";
                console.log(isRecommended);
                const confirmMessage = isRecommended ? "추천을 취소하시겠습니까?" : "정말로 추천하시겠습니까?";

                console.log("isRecommended:", isRecommended);
                console.log("confirmMessage:", confirmMessage);

                       if (confirm(confirmMessage)) {
                        // Toggle recommended status
                        element.dataset.recommended = (element.dataset.recommended === "true") ? "false" : "true";

                        location.href = element.dataset.uri;
                    }
                 }
           });
       });
    </script>
    <script>
        function confirmDelete() {
            // 확인 메시지 표시
            var isConfirmed = confirm("리뷰를 삭제하시겠습니까?");

            // 사용자가 "확인"을 선택한 경우에만 삭제 진행
            return isConfirmed;
        }
    </script>
</div>
</html>
